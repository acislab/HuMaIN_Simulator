<!-- 
#######################################################################################
# Execution value of the workflow's parameters 
# All the input and output directories and files are relative to the BASE_DIR
#######################################################################################
-->
<root>
	<tasks>
		<task name="ocr_ds">
			<parameter name="dataset">datasets/aocr_mix100/ocr/ocropus</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="out_dir">selfie/results/scientific_name/ocr_ds</parameter>			
		</task>
		<task name="sn_suffix_ds">
			<parameter name="fulltext_dir">selfie/results/scientific_name/ocr_ds</parameter>
			<parameter name="suffix_dir">datasets/aocr_mix100/sn_suffix/ocropus</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="out_dir">selfie/results/scientific_name/sn_suffix_ds</parameter>
		</task>
		<task name="sn_norm_dict">
			<parameter name="candidates_file">selfie/results/scientific_name/sn_suffix_ds/accepted/accepted.tsv</parameter>
			<parameter name="norm_dir">datasets/aocr_mix100/sn_norm_dict/ocropus</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="output_dir">selfie/results/scientific_name/sn_norm_dict</parameter>
		</task>
		<task name="sn_dict_extr">
			<parameter name="rej_suf_file">selfie/results/scientific_name/sn_suffix_ds/rejected/rejected.tsv</parameter>
			<parameter name="rej_nor_file">selfie/results/scientific_name/sn_norm_dict/rejected/rejected.tsv</parameter>
			<parameter name="dict_extr_dir">datasets/aocr_mix100/sn_dict_extr/ocropus</parameter>			
			<parameter name="metric">duration</parameter>
			<parameter name="output_dir">selfie/results/scientific_name/sn_dict_extr</parameter>
		</task>
		<task name="sn_crowd">
			<parameter name="specimens">selfie/results/scientific_name/sn_dict_extr/rejected/rejected.tsv</parameter>
			<parameter name="crowd_data">datasets/aocr_mix100/crowd/terms/zooniverse/scientific_name.tsv</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="output_file">selfie/results/scientific_name/sn_crowd/sn_crowd.tsv</parameter>
		</task>
		<task name="consensus_ds">
			<parameter name="crowd_file">selfie/results/scientific_name/sn_crowd/sn_crowd.tsv</parameter>
			<parameter name="consensus_dir">datasets/aocr_mix100/sn_consensus</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="output_dir">selfie/results/scientific_name/sn_consensus</parameter>
		</task>
	</tasks>
	<!-- The base dir for the metrics' parameters is BASE_DIR/humain/metrics -->
	<metrics>
		<script name="add.py">
			<parameter name="mf">selfie/results/scientific_name/ocr_ds/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_suffix_ds/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_suffix_ds/rejected/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_norm_dict/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_norm_dict/rejected/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_dict_extr/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_dict_extr/rejected/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_crowd/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_consensus/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/scientific_name/sn_consensus/rejected/metrics/duration.csv</parameter>
			<parameter name="output_file">selfie/results/scientific_name/duration.csv</parameter>
		</script>
		<script name="quality_measure.py">
			<parameter name="accepted_file">selfie/results/scientific_name/sn_norm_dict/accepted/accepted.tsv</parameter>
			<parameter name="accepted_file">selfie/results/scientific_name/sn_dict_extr/accepted/accepted.tsv</parameter>
			<parameter name="accepted_file">selfie/results/scientific_name/sn_consensus/accepted/accepted.tsv</parameter>
			<parameter name="ground_truth">datasets/aocr_mix100/gtruth/terms/verbatimScientificName.tsv</parameter>
			<parameter name="output_file">selfie/results/scientific_name/quality.csv</parameter>
		</script>
	</metrics>
	<!-- The base dir for the post-processing' parameters is BASE_DIR/humain/post-processing -->
	<post-processing>
		<script name="basic_stats.py">
			<parameter name="metric_file">selfie/results/scientific_name/quality.csv</parameter>
			<parameter name="output_file">selfie/results/scientific_name/quality_stats.txt</parameter>
		</script>
		<script name="basic_stats.py">
			<parameter name="metric_file">selfie/results/scientific_name/duration.csv</parameter>
			<parameter name="output_file">selfie/results/scientific_name/duration_stats.txt</parameter>
		</script>
	</post-processing>
</root>

