#######################################################################################
# Execution value of the workflow's parameters 
# All the input and output directories and files are relative to the BASE_DIR
#######################################################################################

[TASKS]

consensus_recorded_by, crowd_file = selfie/results/recorded_by_001/crowd_recorded_by/crowd_recorded_by_res.txt, threshold = 0.8, metric = duration , metric_dir = datasets/aocr_mix100/consensus/directory_recorded_by.txt, output_dir = selfie/results/recorded_by_001/consensus_recorded_by
create_dict_recorded_by, accepted = selfie/results/recorded_by_001/consensus_recorded_by/accepted/accepted.tsv, output_file = selfie/results/recorded_by_001/create_dict_recorded_by/output.txt
ocr_recorded_by, dataset = datasets/aocr_mix100/ocr/tesseract, file = selfie/results/recorded_by_001/consensus_recorded_by/rejected/rejected.tsv, metric = duration, out_dir = selfie/results/recorded_by_001/ocr_recorded_by
extract_dict_recorded_by, folder = selfie/results/recorded_by_001/ocr_recorded_by, dictionary = selfie/results/recorded_by_001/create_dict_recorded_by/output.txt


# The base dir for the metrics' parameters is the project_results directory (selfie/results/event_date_001/)c
[METRICS]

# The base dir for the post-processing' parameters is the HuMaIN_Simulator (BASE_DIR) directory.
[POST-PROCESSING]
<!-- 
#######################################################################################
# Execution value of the workflow's parameters 
# All the input and output directories and files are relative to the BASE_DIR
#######################################################################################
-->
<root>
	<tasks>
		<task name="crowd_recorded_by">
			<parameter name="specimens">datasets/aocr_mix100/specimen_list.txt</parameter>
			<parameter name="crowd_data">datasets/aocr_mix100/crowd/recorded_by/recorded_by_crowd.txt</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="output_file">selfie/results/recorded_by_001/crowd_recorded_by/crowd_recorded_by_res.txt</parameter>
		</task>
		<task name="consensus_recorded_by">
			<parameter name="crowd_file">selfie/results/event_date/crowd_event_date_ds/crowd_event_date.tsv</parameter>
			<parameter name="consensus_file">datasets/aocr_mix100/consensus/accepted.tsv</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="output_dir">selfie/results/event_date/consensus_ds</parameter>
		</task>
		<task name="ocr_ds">
			<parameter name="dataset">datasets/aocr_mix100/ocr/ocropus</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="out_dir">selfie/results/event_date/ocr_ds</parameter>			
		</task>
		<task name="reg_expr_ds">
			<parameter name="fulltext_dir">selfie/results/event_date/ocr_ds</parameter>
			<parameter name="regexp_file">datasets/aocr_mix100/reg_exp/ocropus/reg_expr.tsv</parameter>
			<parameter name="metric">duration</parameter>
			<parameter name="out_dir">selfie/results/event_date/reg_expr_ds</parameter>
		</task>
	</tasks>
	<!-- The base dir for the metrics' parameters is BASE_DIR/humain/metrics -->
	<metrics>
		<script name="add.py">
			<parameter name="mf">selfie/results/event_date/ocr_ds/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/event_date/reg_expr_ds/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/event_date/reg_expr_ds/rejected/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/event_date/crowd_event_date_ds/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/event_date/consensus_ds/accepted/metrics/duration.csv</parameter>
			<parameter name="mf">selfie/results/event_date/consensus_ds/rejected/metrics/duration.csv</parameter>
			<parameter name="output_file">selfie/results/event_date/duration.csv</parameter>
		</script>
		<script name="quality_measure.py">
			<parameter name="accepted_file">selfie/results/event_date/reg_expr_ds/accepted/accepted.tsv</parameter>
			<parameter name="accepted_file">selfie/results/event_date/consensus_ds/accepted/accepted.tsv</parameter>
			<parameter name="ground_truth">datasets/aocr_mix100/gtruth/terms/dwc_eventDate.tsv</parameter>
			<parameter name="output_file">selfie/results/event_date/quality.csv</parameter>
		</script>
	</metrics>
	<!-- The base dir for the post-processing' parameters is BASE_DIR/humain/post-processing -->
	<post-processing>
		<script name="basic_stats.py">
			<parameter name="metric_file">selfie/results/event_date/quality.csv</parameter>
			<parameter name="output_file">selfie/results/event_date/quality_stats.txt</parameter>
		</script>
		<script name="basic_stats.py">
			<parameter name="metric_file">selfie/results/event_date/duration.csv</parameter>
			<parameter name="output_file">selfie/results/event_date/duration_stats.txt</parameter>
		</script>
	</post-processing>
</root>

